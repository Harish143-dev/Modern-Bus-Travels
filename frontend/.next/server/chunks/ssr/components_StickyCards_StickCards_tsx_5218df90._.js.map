{"version":3,"sources":["turbopack:///[project]/components/StickyCards/StickCards.tsx"],"sourcesContent":["\"use client\";\r\n\r\nimport React, { useEffect, useRef } from \"react\";\r\nimport { FEATURE_ROUTES } from \"@/constants\";\r\nimport gsap from \"gsap\";\r\nimport { ScrollTrigger } from \"gsap/ScrollTrigger\";\r\n\r\ngsap.registerPlugin(ScrollTrigger);\r\n\r\nconst StickCards = () => {\r\n  const container = useRef<HTMLDivElement | null>(null);\r\n\r\n  useEffect(() => {\r\n    if (!container.current) return;\r\n\r\n    const stickyCards =\r\n      container.current.querySelectorAll<HTMLDivElement>(\".sticky-card\");\r\n\r\n    stickyCards.forEach((card, index) => {\r\n      if (index < stickyCards.length - 1) {\r\n        // Pin the current card\r\n        ScrollTrigger.create({\r\n          trigger: card,\r\n          start: \"top top\",\r\n          endTrigger: stickyCards[stickyCards.length - 1],\r\n          end: \"top top\",\r\n          pin: true,\r\n          pinSpacing: false,\r\n          scrub: true,\r\n        });\r\n\r\n        // Animate scale, rotation, after-opacity when next card scrolls over\r\n        ScrollTrigger.create({\r\n          trigger: stickyCards[index + 1],\r\n          start: \"top bottom\",\r\n          end: \"top top\",\r\n          scrub: true,\r\n          onUpdate: (self) => {\r\n            const progress = self.progress;\r\n            const scale = 1 - progress * 0.25;\r\n            const rotation = (index % 2 === 0 ? 5 : -5) * progress;\r\n\r\n            gsap.set(card, {\r\n              scale,\r\n              rotation,\r\n              \"--after-opacity\": progress,\r\n            });\r\n          },\r\n        });\r\n      }\r\n    });\r\n\r\n    return () => {\r\n      ScrollTrigger.getAll().forEach((t) => t.kill());\r\n    };\r\n  }, []);\r\n\r\n  return (\r\n    <div className=\"relative w-full h-full\" ref={container}>\r\n      {FEATURE_ROUTES.map((route) => (\r\n        <div\r\n          key={route.id}\r\n          className=\"sticky-card relative w-full bg-gray-500 h-screen flex p-5 gap-3 will-change-transform\"\r\n        >\r\n          <div className=\"flex-4 pt-2\">\r\n            <div className=\"flex w-[75%] flex-col gap-2\">\r\n              <h1 className=\"text-2xl font-bold\">{route.place}</h1>\r\n              <p>{route.description}</p>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      ))}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default StickCards;\r\n"],"names":[],"mappings":"wDAEA,EAAA,EAAA,CAAA,CAAA,OACA,EAAA,EAAA,CAAA,CAAA,OACA,EAAA,EAAA,CAAA,CAAA,OACA,EAAA,EAAA,CAAA,CAAA,OAEA,EAAA,OAAI,CAAC,cAAc,CAAC,EAAA,aAAa,mBAEd,KACjB,IAAM,EAAY,CAAA,EAAA,EAAA,MAAA,AAAM,EAAwB,MA+ChD,MA7CA,CAAA,EAAA,EAAA,SAAA,AAAS,EAAC,KACR,GAAI,CAAC,EAAU,OAAO,CAAE,OAExB,IAAM,EACJ,EAAU,OAAO,CAAC,gBAAgB,CAAiB,gBAoCrD,OAlCA,EAAY,OAAO,CAAC,CAAC,EAAM,KACrB,EAAQ,EAAY,MAAM,CAAG,GAAG,CAElC,EAAA,aAAa,CAAC,MAAM,CAAC,CACnB,QAAS,EACT,MAAO,UACP,WAAY,CAAW,CAAC,EAAY,MAAM,CAAG,EAAE,CAC/C,IAAK,UACL,KAAK,EACL,YAAY,EACZ,OAAO,CACT,GAGA,EAAA,aAAa,CAAC,MAAM,CAAC,CACnB,QAAS,CAAW,CAAC,EAAQ,EAAE,CAC/B,MAAO,aACP,IAAK,UACL,OAAO,EACP,SAAU,AAAC,IACT,IAAM,EAAW,EAAK,QAAQ,CAI9B,EAAA,OAAI,CAAC,GAAG,CAAC,EAAM,CACb,MAJY,EAAe,IAAX,EAKhB,SAJe,CAAC,EAAQ,GAAM,EAAI,EAAI,EAAC,CAAC,CAAI,EAK5C,kBAAmB,CACrB,EACF,CACF,GAEJ,GAEO,KACL,EAAA,aAAa,CAAC,MAAM,GAAG,OAAO,CAAC,AAAC,GAAM,EAAE,IAAI,GAC9C,CACF,EAAG,EAAE,EAGH,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CAAI,UAAU,yBAAyB,IAAK,WAC1C,EAAA,cAAc,CAAC,GAAG,CAAC,AAAC,GACnB,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CAEC,UAAU,iGAEV,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CAAI,UAAU,uBACb,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,wCACb,CAAA,EAAA,EAAA,GAAA,EAAC,KAAA,CAAG,UAAU,8BAAsB,EAAM,KAAK,GAC/C,CAAA,EAAA,EAAA,GAAA,EAAC,IAAA,UAAG,EAAM,WAAW,SANpB,EAAM,EAAE,IAavB"}